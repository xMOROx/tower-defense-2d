[gd_scene load_steps=28 format=4 uid="uid://d3o01x0ug76dm"]

[ext_resource type="Script" uid="uid://djvuwq56jqhf1" path="res://src/maps/Level1.gd" id="1_55yl8"]
[ext_resource type="TileSet" uid="uid://clhx4yx22v4j6" path="res://assets/tiles/terrain.tres" id="1_63i5o"]
[ext_resource type="PackedScene" uid="uid://dypncu8rnysyf" path="res://scenes/enemies/WaveManager.tscn" id="2_55yl8"]
[ext_resource type="PackedScene" uid="uid://dsdhiykb81bg" path="res://scenes/towers/ProjectileTower.tscn" id="2_prr5q"]
[ext_resource type="Script" uid="uid://etm7lcl52ic" path="res://src/Hud.gd" id="5_ladvl"]
[ext_resource type="Script" uid="uid://d2potcvpfge7f" path="res://src/spawners/BaseSpawner.gd" id="5_prr5q"]
[ext_resource type="PackedScene" uid="uid://cpprkq5oeve7m" path="res://scenes/maps/paths/PathSegment.tscn" id="6_68xhw"]
[ext_resource type="PackedScene" uid="uid://dhic07exb4uhr" path="res://scenes/ui/TowerUpgradeMenu.tscn" id="6_n8iyc"]
[ext_resource type="Script" uid="uid://djg5lxas2wk88" path="res://src/ui/ScalableCamera2D.gd" id="9_68xhw"]
[ext_resource type="Texture2D" uid="uid://ciopj22wymlcd" path="res://assets/ui/Logotype/NameBack.png" id="9_cigdg"]
[ext_resource type="Texture2D" uid="uid://cgl0237dq4l1i" path="res://assets/ui/Star/Unactive.png" id="10_uawvj"]
[ext_resource type="Texture2D" uid="uid://besqh4q86n752" path="res://assets/ui/Counter/Default.png" id="11_cqist"]
[ext_resource type="Texture2D" uid="uid://cxk1owc4terpo" path="res://assets/ui/Counter/Icon/Money.png" id="12_cd5el"]
[ext_resource type="LabelSettings" uid="uid://cpoxif4j07555" path="res://assets/fonts/LabelSettingsHugeFont.tres" id="13_cd5el"]
[ext_resource type="Texture2D" uid="uid://brpqq81bn56eq" path="res://assets/ui/Icon/Heart.png" id="13_d30w4"]
[ext_resource type="Texture2D" uid="uid://c0x2mx1blwlwl" path="res://assets/graphics/towerDefense_tilesheet.png" id="15_cqist"]
[ext_resource type="Texture2D" uid="uid://cnvq0wgaq04g6" path="res://assets/ui/Level/Button/Dummy.png" id="15_d30w4"]
[ext_resource type="LabelSettings" uid="uid://cnuobffc03vx7" path="res://assets/fonts/LabelSettings.tres" id="17_yiebs"]
[ext_resource type="Texture2D" uid="uid://5le64dqrhc52" path="res://assets/ui/Bar/Background.png" id="18_yiebs"]
[ext_resource type="Texture2D" uid="uid://d4ba564kiwulq" path="res://assets/ui/Bar/Line.png" id="19_xeefv"]

[sub_resource type="Curve2D" id="Curve2D_jclyi"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -2, 125, 0, 0, 0, 0, 64, 128, 0, 0, 0, 0, 128, 128, 0, 0, 0, 0, 160, 128, 0, 0, 0, 0, 192, 160, 0, 0, 0, 0, 192, 192, 0, 0, 0, 0, 192, 256, 0, 0, 0, 0, 192, 320, 0, 0, 0, 0, 192, 384, 0, 0, 0, 0, 192, 448, 0, 0, 0, 0, 192, 480, 0, 0, 0, 0, 224, 512, 0, 0, 0, 0, 256, 512, 0, 0, 0, 0, 320, 512, 0, 0, 0, 0, 352, 512, 0, 0, 0, 0, 384, 480, 0, 0, 0, 0, 384, 448, 0, 0, 0, 0, 384, 384, 0, 0, 0, 0, 384, 352, 0, 0, 0, 0, 416, 320, 0, 0, 0, 0, 448, 320, 0, 0, 0, 0, 512, 320, 0, 0, 0, 0, 576, 320, 0, 0, 0, 0, 640, 320, 0, 0, 0, 0, 704, 320, 0, 0, 0, 0, 768, 320, 0, 0, 0, 0, 832, 320, 0, 0, 0, 0, 864, 320, 0, 0, 0, 0, 896, 288, 0, 0, 0, 0, 896, 256, 0, 0, 0, 0, 896, 192, 0, 0, 0, 0, 896, 128, 0, 0, 0, 0, 896, 64, 0, 0, 0, 0, 896, 0)
}
point_count = 34

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bwlk2"]
size = Vector2(256, 109.667)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fxa07"]
size = Vector2(114, 376)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ugr47"]
size = Vector2(109.322, 383.21)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_prr5q"]
size = Vector2(504.29, 106.007)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_68xhw"]
size = Vector2(105.557, 191.921)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hekkk"]
size = Vector2(80.5785, 105.176)

[node name="Level" type="Node2D"]
script = ExtResource("1_55yl8")
basic_tower_scene = ExtResource("2_prr5q")

[node name="World" type="Node2D" parent="."]

[node name="Map" type="Node2D" parent="World"]

[node name="Layer_ground" type="TileMapLayer" parent="World/Map"]
tile_map_data = PackedByteArray("AAAAAAAAAgABAAEAAAAAAAEAAgABAAIAAAAAAAIAAgABAAAAAAAAAAMAAgABAAEAAAAAAAQAAgABAAEAAAAAAAUAAgABAAEAAAAAAAYAAgABAAEAAAAAAAcAAgABAAEAAAAAAAgAAgABAAEAAAAAAAkAAgABAAEAAAABAAAAAgABAAEAAAABAAEAAgABAAIAAAABAAIAAgABAAAAAAABAAMAAgABAAEAAAABAAQAAgABAAoAAAABAAUAAgAOAAUAAAABAAYAAgABAAEAAAABAAcAAgAOAAUAAAABAAgAAgABAAoAAAABAAkAAgAOAAUAAAACAAAAAgABAAEAAAACAAEAAgABAAIAAAACAAIAAgACAAAAAAACAAMAAgACAAEAAAACAAQAAgACAAEAAAACAAUAAgACAAEAAAACAAYAAgACAAEAAAACAAcAAgACAAEAAAACAAgAAgADAAEAAAACAAkAAgAOAAUAAAADAAAAAgAOAAUAAAADAAEAAgAEAAAAAAADAAIAAgAAAAEAAAADAAMAAgAAAAEAAAADAAQAAgAAAAEAAAADAAUAAgAAAAEAAAADAAYAAgAAAAEAAAADAAcAAgAAAAIAAAADAAgAAgABAAAAAAADAAkAAgAOAAUAAAAEAAAAAgABAAoAAAAEAAEAAgABAAoAAAAEAAIAAgAOAAUAAAAEAAMAAgABAAEAAAAEAAQAAgAOAAUAAAAEAAUAAgABAAoAAAAEAAYAAgABAAoAAAAEAAcAAgABAAIAAAAEAAgAAgABAAAAAAAEAAkAAgABAAEAAAAFAAAAAgABAAoAAAAFAAEAAgAOAAUAAAAFAAIAAgABAAoAAAAFAAMAAgAOAAUAAAAFAAQAAgADAAAAAAAFAAUAAgACAAEAAAAFAAYAAgACAAEAAAAFAAcAAgACAAIAAAAFAAgAAgABAAAAAAAFAAkAAgABAAEAAAAGAAMAAgABAAEAAAAGAAQAAgABAAIAAAAGAAUAAgAAAAAAAAAGAAYAAgAAAAEAAAAGAAcAAgAAAAEAAAAGAAgAAgAEAAEAAAAGAAkAAgABAAoAAAAHAAMAAgABAAEAAAAHAAQAAgABAAIAAAAHAAUAAgABAAAAAAAHAAYAAgAOAAUAAAAHAAcAAgABAAEAAAAHAAgAAgABAAoAAAAHAAkAAgAOAAUAAAAIAAMAAgAOAAUAAAAIAAQAAgABAAIAAAAIAAUAAgABAAAAAAAIAAYAAgABAAoAAAAIAAcAAgABAAEAAAAIAAgAAgAOAAUAAAAIAAkAAgABAAEAAAAJAAAAAgABAAEAAAAJAAEAAgABAAoAAAAJAAMAAgAOAAUAAAAJAAQAAgABAAIAAAAJAAUAAgABAAAAAAAJAAYAAgABAAoAAAAJAAcAAgABAAoAAAAJAAgAAgAOAAUAAAAJAAkAAgABAAoAAAAKAAAAAgAOAAUAAAAKAAEAAgABAAEAAAAKAAMAAgABAAoAAAAKAAQAAgABAAIAAAAKAAUAAgABAAAAAAAKAAYAAgAOAAUAAAAKAAcAAgABAAEAAAAKAAgAAgABAAoAAAAKAAkAAgABAAEAAAALAAAAAgABAAoAAAALAAEAAgABAAEAAAALAAQAAgABAAIAAAALAAUAAgABAAAAAAALAAYAAgABAAoAAAALAAcAAgAOAAUAAAALAAgAAgABAAEAAAALAAkAAgABAAoAAAAMAAAAAgABAAEAAAAMAAEAAgABAAoAAAAMAAIAAgABAAoAAAAMAAMAAgABAAoAAAAMAAQAAgABAAIAAAAMAAUAAgABAAAAAAAMAAYAAgABAAEAAAAMAAcAAgABAAoAAAAMAAgAAgAOAAUAAAAMAAkAAgABAAEAAAANAAAAAgACAAEAAAANAAEAAgACAAEAAAANAAIAAgACAAEAAAANAAMAAgACAAEAAAANAAQAAgACAAIAAAANAAUAAgABAAAAAAANAAYAAgABAAEAAAANAAcAAgAOAAUAAAANAAgAAgABAAoAAAANAAkAAgABAAoAAAAOAAAAAgAAAAEAAAAOAAEAAgAAAAEAAAAOAAIAAgAAAAEAAAAOAAMAAgAAAAEAAAAOAAQAAgAAAAEAAAAOAAUAAgAEAAEAAAAOAAYAAgABAAoAAAAOAAcAAgABAAEAAAAOAAgAAgABAAEAAAAOAAkAAgABAAoAAAAPAAAAAgABAAEAAAAPAAEAAgABAAEAAAAPAAIAAgABAAoAAAAPAAMAAgABAAoAAAAPAAQAAgABAAEAAAAPAAUAAgAOAAUAAAAPAAYAAgAOAAUAAAAPAAcAAgABAAEAAAAPAAgAAgABAAEAAAAPAAkAAgAOAAUAAAAQAAAAAgABAAEAAAAQAAEAAgABAAoAAAAQAAIAAgABAAoAAAAQAAMAAgAOAAUAAAAQAAQAAgABAAEAAAAQAAUAAgABAAoAAAAQAAYAAgABAAoAAAAQAAcAAgABAAoAAAAQAAgAAgABAAEAAAAQAAkAAgABAAEAAAARAAAAAgAOAAUAAAARAAEAAgABAAEAAAARAAIAAgABAAoAAAARAAMAAgABAAoAAAARAAQAAgABAAoAAAARAAUAAgABAAEAAAARAAYAAgABAAEAAAARAAcAAgAOAAUAAAARAAgAAgABAAEAAAARAAkAAgAOAAUAAAAIAAEAAgABAAoAAAAJAAIAAgABAAEAAAAKAAIAAgABAAEAAAALAAIAAgABAAEAAAALAAMAAgABAAEAAAAGAAAAAgABAAEAAAAGAAEAAgABAAoAAAAHAAEAAgABAAEAAAAHAAIAAgAOAAUAAAAGAAIAAgAOAAUAAAAHAAAAAgABAAEAAAAIAAAAAgABAAEAAAAIAAIAAgABAAEAAAA=")
tile_set = ExtResource("1_63i5o")

[node name="Layer_objects" type="TileMapLayer" parent="World/Map"]
tile_map_data = PackedByteArray("AAAGAAEAAgAPAAUAAAAHAAIAAgAPAAUAAAAHAAEAAgARAAUAAAAKAAEAAgARAAUAAAAJAAAAAgARAAUAAAAQAAEAAgARAAUAAAARAAAAAgARAAUAAAARAAEAAgAVAAUAAAAIAAEAAgAVAAUAAAAKAAgAAgAUAAUAAAALAAcAAgARAAUAAAAJAAgAAgAQAAUAAAAKAAcAAgAQAAUAAAAPAAgAAgAVAAUAAAAOAAcAAgAWAAUAAAAOAAgAAgAPAAUAAAAQAAcAAgARAAUAAAABAAkAAgARAAUAAAAAAAgAAgARAAUAAAAQAAMAAgAUAAUAAAAJAAEAAgAUAAUAAAA=")
tile_set = ExtResource("1_63i5o")

[node name="WaveManager" parent="World" instance=ExtResource("2_55yl8")]
spawner_node_path = NodePath("../EnemySpawner")
wave_data_file = "res://assets/waves/map1.json"

[node name="EnemySpawner" type="Node2D" parent="World"]
position = Vector2(-2, 127.548)
scale = Vector2(25.1814, -45.4777)
script = ExtResource("5_prr5q")
initial_path_segment_nodepath = NodePath("../Paths/EntrySegment")

[node name="EnemiesContainer" type="Node" parent="World/EnemySpawner"]

[node name="Paths" type="Node" parent="World"]

[node name="EntrySegment" parent="World/Paths" node_paths=PackedStringArray("path_2d_node") instance=ExtResource("6_68xhw")]
path_2d_node = NodePath("EnemyPath")

[node name="EnemyPath" type="Path2D" parent="World/Paths/EntrySegment"]
curve = SubResource("Curve2D_jclyi")

[node name="PathBlocker" type="Area2D" parent="World"]
collision_layer = 32
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/PathBlocker"]
position = Vector2(125, 127.548)
shape = SubResource("RectangleShape2D_bwlk2")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="World/PathBlocker"]
position = Vector2(893, 187)
shape = SubResource("RectangleShape2D_fxa07")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="World/PathBlocker"]
position = Vector2(195.339, 374.395)
shape = SubResource("RectangleShape2D_ugr47")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="World/PathBlocker"]
position = Vector2(582.544, 321.141)
shape = SubResource("RectangleShape2D_prr5q")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="World/PathBlocker"]
position = Vector2(384.225, 470.345)
shape = SubResource("RectangleShape2D_68xhw")

[node name="CollisionShape2D6" type="CollisionShape2D" parent="World/PathBlocker"]
position = Vector2(290.939, 512.034)
shape = SubResource("RectangleShape2D_hekkk")

[node name="TowersContainer" type="Node2D" parent="World"]

[node name="Camera2D" type="Camera2D" parent="World"]
scale = Vector2(0.548455, 0.328243)
limit_left = 0
limit_top = 0
script = ExtResource("9_68xhw")

[node name="HUD" type="CanvasLayer" parent="."]
script = ExtResource("5_ladvl")

[node name="TowerUpgradeMenu" parent="HUD" instance=ExtResource("6_n8iyc")]
visible = false

[node name="StarsContainer" type="Sprite2D" parent="HUD"]
position = Vector2(1819.99, 38.8526)
scale = Vector2(0.4467, 0.4467)
texture = ExtResource("9_cigdg")

[node name="Star1" type="Sprite2D" parent="HUD/StarsContainer"]
position = Vector2(-125, -4.7)
texture = ExtResource("10_uawvj")

[node name="Star2" type="Sprite2D" parent="HUD/StarsContainer"]
position = Vector2(0, -4.7)
texture = ExtResource("10_uawvj")

[node name="Star3" type="Sprite2D" parent="HUD/StarsContainer"]
position = Vector2(125, -4.7)
texture = ExtResource("10_uawvj")

[node name="HeartContainer" type="Sprite2D" parent="HUD"]
position = Vector2(1839.61, 171.314)
texture = ExtResource("11_cqist")

[node name="Heart" type="Sprite2D" parent="HUD/HeartContainer"]
position = Vector2(-44.3537, -1.33106)
scale = Vector2(0.3015, 0.3015)
texture = ExtResource("13_d30w4")

[node name="LivesLabel" type="Label" parent="HUD/HeartContainer"]
anchors_preset = -1
anchor_left = 0.00263751
anchor_top = 1.50045e-05
anchor_right = 0.00263751
anchor_bottom = 1.50045e-05
offset_left = -24.3798
offset_top = -27.0009
offset_right = 71.6202
offset_bottom = 21.9991
theme_override_font_sizes/font_size = 36
text = "0"
label_settings = ExtResource("13_cd5el")
horizontal_alignment = 1
vertical_alignment = 1
metadata/_edit_use_anchors_ = true

[node name="MoneyContainer" type="Sprite2D" parent="HUD"]
position = Vector2(1839.61, 106.133)
texture = ExtResource("11_cqist")

[node name="Money" type="Sprite2D" parent="HUD/MoneyContainer"]
position = Vector2(-44.3723, -2.07697)
texture = ExtResource("12_cd5el")

[node name="CurrencyLabel" type="Label" parent="HUD/MoneyContainer"]
anchors_preset = -1
anchor_left = 0.081403
anchor_top = -0.122
anchor_right = 0.081403
anchor_bottom = -0.0129576
offset_left = -36.0944
offset_top = -18.1049
offset_right = 58.9056
offset_bottom = 24.3525
theme_override_font_sizes/font_size = 24
text = "0"
label_settings = ExtResource("13_cd5el")
horizontal_alignment = 1
vertical_alignment = 1
metadata/_edit_use_anchors_ = true

[node name="TowerBar" type="HBoxContainer" parent="HUD"]
offset_top = 937.41
offset_right = 1916.0
offset_bottom = 1050.41
theme_override_constants/separation = 60
alignment = 1

[node name="Tower1" type="Button" parent="HUD/TowerBar"]
layout_mode = 2
icon = ExtResource("15_d30w4")
flat = true

[node name="body" type="Sprite2D" parent="HUD/TowerBar/Tower1"]
position = Vector2(49.4597, 43.4337)
scale = Vector2(1.05786, 1.05786)
texture = ExtResource("15_cqist")
region_enabled = true
region_rect = Rect2(1217, 449, 64, 64)

[node name="head" type="Sprite2D" parent="HUD/TowerBar/Tower1/body"]
position = Vector2(0, -2.09836)
scale = Vector2(0.93989, 0.93989)
texture = ExtResource("15_cqist")
region_enabled = true
region_rect = Rect2(1224, 520, 48, 48)

[node name="TowerCost" type="Label" parent="HUD/TowerBar/Tower1"]
layout_mode = 0
offset_left = 7.28876
offset_top = 78.1944
offset_right = 92.2885
offset_bottom = 101.194
text = "50 $"
label_settings = ExtResource("17_yiebs")
horizontal_alignment = 1

[node name="WaveProgressBar" type="TextureProgressBar" parent="HUD"]
offset_left = 478.428
offset_top = 7.36029
offset_right = 974.428
offset_bottom = 59.3603
scale = Vector2(2, 1)
texture_under = ExtResource("18_yiebs")
texture_progress = ExtResource("19_xeefv")
texture_progress_offset = Vector2(8, 8)

[node name="WaveLabel" type="Label" parent="HUD"]
anchors_preset = -1
anchor_left = 0.444894
anchor_top = 0.0118519
anchor_right = 0.557
anchor_bottom = 0.043335
offset_left = -0.196045
offset_top = 0.199999
offset_right = 0.559937
offset_bottom = 0.198193
theme_override_font_sizes/font_size = 24
text = "Wave placeholder"
horizontal_alignment = 3
metadata/_edit_use_anchors_ = true
